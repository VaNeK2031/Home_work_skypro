# Финансовая прога - still in progress

Программа для обработки финансовых данных:
- Маскировка номеров банковских карт и счетов  
- Форматирование даты  
- Фильтрация и сортировка транзакций  


## Содержание

- [Описание](#описание)
- [Функции](#функции)
  - [`get_mask_card_number`](#get_datedate)
  - [`get_mask_account`](#get_mask_accountaccount_number)
  - [`mask_account_card`](#mask_account_card)
  - [`get_date`](#get_date)
  - [`filter_by_state`](#filter_by_state)
  - [`sort_by_date`](#sort_by_date)
- [Установка и использование](#установка-и-использование)
- [Требования к данным](#требования-к-данным)
- [Лицензия](#лицензия)

---

## Описание

Этот модуль предоставляет набор полезных функций для работы с конфиденциальной информацией и списками транзакций:
- **Маскировка** номеров карт и счетов для соблюдения конфиденциальности.
- **Форматирование даты** из ISO-формата в более читаемый вид.
- **Фильтрация и сортировка** списка транзакций по состоянию и дате.

---

## Функции

### `get_mask_card_number(card_number: str) -> str:`

Возвращает замаскированный номер карты в формате 'XXXX XX** **** XXXX'. 
Проверяет, что номер карты состоит ровно из 16 цифр. Если проверка не пройдена, выбрасывается исключение ValueError.
      
```python
    # Убедимся, что номер карты имеет длину 16 символов
    if len(card_number) != 16 or not card_number.isdigit():
        raise ValueError("Номер карты должен содержать ровно 16 цифр")

    # Берем первые 6 и последние 4 цифры
    first_part = card_number[:6]
    last_part = card_number[-4:]

    # Формируем маску: XXXX XX** **** XXXX
    masked_number = f"{first_part[:4]} {first_part[4:]}" + "** **** " + last_part

    return masked_number
```
#### Пример:
```python
7000792289606361     # входной аргумент
7000 79** **** 6361  # выход функции
```
### `get_mask_account(account_number: str) -> str:`

Возвращает замаскированный номер счета в формате '**XXXX'.
Оставляет только последние 4 цифры и добавляет '**' перед ними.
Проверяет, что номер содержит минимум 4 цифры. Если проверка не пройдена, выбрасывается исключение ValueError.

#### Пример:
```python
73654108430135874305  # входной аргумент
**4305  # выход функции
```

### `mask_account_card(data: str) -> str`

Возвращает строку с замаскированным номером карты или счёта.  
Автоматически определяет тип (карта или счёт) и применяет нужную маску.

#### Пример:
```python
mask_account_card("Visa Platinum 7000792289606361")  
# Результат: "Visa Platinum 7000 79** **** 6361"

mask_account_card("Счет 73654108430135874305")  
# Результат: "Счет **4305"
```
### `get_date(date: str) -> str`

Преобразует строку с датой из формата 'YYYY-MM-DD' в формат 'DD.MM.YYYY'.

```python
year = date[0:4]
month = date[5:7]
day = date[8:10]
```

### `filter_by_state`

Фильтрует список словарей по значению ключа 'state'.

#### Пример:
```python
# Выход функции со статусом по умолчанию 'EXECUTED'
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

# Выход функции, если вторым аргументов передано 'CANCELED'
[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
```

### `sort_by_date`

Возвращает новый список словарей, отсортированный по значению ключа 'date'. 
Сортировка выполняется на основе строковых значений поля 'date', которые предполагаются в формате ISO 8601 (например, '2023-01-01T12:34:56.789012').

#### Пример:
```python
# Выход функции (сортировка по убыванию, т. е. сначала самые последние операции)
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]
```

## Установка и использование
